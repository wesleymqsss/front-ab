<app-header *ngIf="userLogin" [userId]="userLogin.id"></app-header>
<main>
    <div class="content">

        <div class="card">
            <p-table [value]="dataSource" [paginator]="true" [rows]="5" [tableStyle]="{ 'min-width': '50rem' }"
                [rowsPerPageOptions]="[5, 10, 20]">
                <ng-template #header>
                    <tr>
                        <th style="width:13% ; background-color: var(--p-emerald-700) !important; color: #fff;">Nome</th>
                        <th style="width:12%; background-color: var(--p-emerald-700) !important; color: #fff;">Email</th>
                        <th style="width:4%; background-color: var(--p-emerald-700) !important; color: #fff;">Perfil
                        </th>
                        <th style="width:9%; background-color: var(--p-emerald-700) !important; color: #fff;">Telefone
                        </th>
                        <th style="width:4%; background-color: var(--p-emerald-700) !important; color: #fff;">Estado
                        </th>
                        <th style="width:9%; background-color: var(--p-emerald-700) !important; color: #fff;">Cidade
                        </th>
                        <th style="width:9%; background-color: var(--p-emerald-700) !important; color: #fff;">Bairro
                        </th>
                        <th style="width:9%; background-color: var(--p-emerald-700) !important; color: #fff;">Tipo de
                            Doação</th>
                        <th *ngIf="userLogin?.tipoPerfil === 1" style="width:9%; background-color: var(--p-emerald-700) !important; color: #fff;">Solicitar
                            Doação</th>
                            <th *ngIf="userLogin?.tipoPerfil === 2" style="width:9%; background-color: var(--p-emerald-700) !important; color: #fff;">Realizar
                            Doação</th>
                    </tr>
                </ng-template>
                <ng-template #body let-item>
                    <tr>
                        <td>{{ item.nome }}</td>
                        <td>{{ item.email }}</td>
                        <td>{{ converterPerfil(item.tipoPerfil )}}</td>
                        <td>{{ item.telefone }}</td>
                        <td>{{ item.estado }}</td>
                        <td>{{ item.cidade }}</td>
                        <td>{{ item.bairro }}</td>
                        <td>{{ item.tipoDoacao }}</td>


                        <td class="buttons-table" *ngIf="this.userLogin.tipoPerfil === 1">
                            <p-button icon="pi pi-plus" class="mr-2" [rounded]="true" [outlined]="true" 
                                (click)="solicitarDoacao(item.id, item.tipoDoacao)" />
                        </td>

                        <td class="buttons-table" *ngIf="this.userLogin.tipoPerfil === 2">
                            <p-button icon="pi pi-plus" class="mr-2" [rounded]="true" [outlined]="true" 
                                (click)="realizarDoacao(item.id, item.tipoDoacao)" />
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</main>