<app-header *ngIf="userId" [userId]="userId"></app-header>
<div class="cont-pai-panel">
  <div class="cont-header-panel">
    <app-card-dashboard *ngFor="let cardItem of cards" [title]="cardItem.title" [value]="cardItem.value"
      [icon]="cardItem.icon"></app-card-dashboard>

  </div>
  <div class="panel-container">
    <div style="display: flex; align-items: center; gap: 1%; padding-top:2%; padding-bottom: 2%;">
      <h2 class="titulo">Doações Recentes</h2>
      <i class="pi pi pi-users" style="font-size: 2.5rem; color: var(--p-emerald-700); margin-top: 5px"></i>
    </div>

    <div class="carrousel-cont">
      <p-carousel [value]="doacoes" [numVisible]="4" [numScroll]="1" [circular]="true"
        [responsiveOptions]="responsiveOptions" [autoplayInterval]="0">

        <ng-template pTemplate="item" let-doacao>
          <div class="card-wrapper">
            <p-card header="{{ doacao.doador | truncate:30 }}" class="card-item">
              <div class="card-content">
                <p><strong>Tipo de Doação:</strong> {{ doacao.tipoDoacao }}</p>
                <p>
                  <strong>Data:</strong> {{ doacao.dataDoacao | date: 'dd/MM/yyyy' }} <br>
                  <strong>Hora:</strong> {{ doacao.dataDoacao | date: 'HH:mm' }}
                </p>
                <p class="{{ typeStatusColor(doacao.statusDoacao) }}"><strong>Status:</strong> {{ doacao.statusDoacao }}</p>
                <button pButton type="button" icon="pi pi-file-edit" label="Aceitar Doação" class="botao" 
                  (click)="aceitarDoacao(doacao.id, doacao.statusDoacao)"></button>
                <button pButton type="button" icon="pi pi-file-edit" label="Rejeitar Doação" class="botao"  severity="danger"
                  (click)="rejeitarDoacao(doacao.id, doacao.statusDoacao)"></button>
              </div>
            </p-card>
          </div>
        </ng-template>

      </p-carousel>
    </div>

    <!-- <p-dialog
      header="Alunos da Turma"
      [(visible)]="visible"
      [style]="{ width: '50vw' }"
      [modal]="true"
      [closable]="true"
    >
      <div class="card">
        <p-table
          [value]="alunos"
          [paginator]="true"
          [rows]="5"
          [tableStyle]="{ 'min-width': '50rem' }"
          [rowsPerPageOptions]="[5, 10, 20]"
        >
          <ng-template #header>
            <tr>
              <th pSortableColumn="alunoNome" style="width: 20%">
                Name <p-sortIcon field="alunoNome" />
              </th>
              <th pSortableColumn="matricula" style="width: 20%">
                Matricula <p-sortIcon field="matricula" />
              </th>
              <th pSortableColumn="curso" style="width: 20%">
                Curso <p-sortIcon field="curso" />
              </th>
              <th pSortableColumn="mediaFinal" style="width: 20%">
                Nota Final <p-sortIcon field="mediaFinal" />
              </th>
              <th style="width: 20%">Ações</th>
            </tr>
          </ng-template>
          <ng-template #body let-aluno>
            <tr>
              <td>{{ aluno.alunoNome }}</td>
              <td>{{ aluno.matricula }}</td>
              <td>{{ aluno.curso }}</td>
              <td>{{ aluno.mediaFinal }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </p-dialog> -->

  </div>
</div>